<div class="forms-area">
    <div class="forms-header">
        <div class="row">
            <span class="numbera-area">{{vm.fill.step}}</span>
            <span class="title-area">Данные для заключение договора</span>
        </div>
    </div>
    <hr/>
    <div ng-if="vm.fill.step == 1 && !vm.regNow">
        <form class="form">
            <h4>Данные страхователя</h4>
            <div class="row row-string">
                <div class="col-lg-4">
                    <div class="form-group">
                        <label>Фамилия</label>
                        <input class="form-control" ng-model="vm.fill.holder.firstName" placeholder="Фамилия" mask="!" limit="false" restrict="reject">
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="form-group">
                        <label>Имя</label>
                        <input class="form-control" ng-model="vm.fill.holder.name" placeholder="Имя" mask="!" limit="false" restrict="reject">
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="form-group">
                        <label>Отчество</label>
                        <input class="form-control" ng-model="vm.fill.holder.secondName" placeholder="Отчество" mask="!" limit="false" restrict="reject">
                    </div>
                </div>
            </div>
            <div class="row row-string">
                <div class="col-lg-8">
                    <div class="form-group">
                        <label>Выберите пол</label>
                        <div>
                            <div class="custom-radio" ng-click="vm.fill.holder.sex = '1'">
                                <input type="radio" ng-model="vm.fill.holder.sex">
                                <label ng-class="{'active': vm.fill.holder.sex == '1'}">
                                    Мужчина
                                </label>
                            </div>
                            <div class="custom-radio" ng-click="vm.fill.holder.sex = '0'">
                                <input type="radio" ng-model="vm.fill.holder.sex">
                                <label ng-class="{'active': vm.fill.holder.sex == '0'}">
                                    Женщина
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="form-group">
                        <label>Дата рождения</label>
                        <input type="date" class="form-control" ng-model="vm.fill.holder.birthday" placeholder="XX.XX.XXXX" max="1999-09-25" min="1945-01-01">
                    </div>
                </div>
            </div>
            <div class="row row-string">
                <div class="col-lg-6">
                    <div class="form-group" ng-class="{'has-error':vm.fill.holder.phoneError}">
                        <label ng-if="!vm.fill.holder.phoneError">Контактный телефон</label>
                        <label ng-if="vm.fill.holder.phoneError" class="color-red">Телефон введен неверно или уже используется</label>
                        <input name="phone"
                               class="form-control"
                               ng-model="vm.fill.holder.phone"
                               placeholder="+7 (XXX) XXX-XX-XX"
                               mask="+9 (999) 999-99-99"
                               restrict="reject"
                               clean="true">
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="form-group" ng-class="{'has-error':vm.fill.holder.emailError}">
                        <label ng-if="!vm.fill.holder.emailError">Электронная почта</label>
                        <label ng-if="vm.fill.holder.emailError" class="color-red">Эта электронная почта уже используется</label>
                        <input type="email"
                               class="form-control"
                               name="email"
                               ng-model="vm.fill.holder.email"
                               placeholder="example@myemail.com">
                    </div>
                </div>
            </div>
            <hr/>
            <div class="row">
                <div class="col-lg-4 col-lg-offset-8">
                    <button class="btn btn-kasko"
                            type="submit"
                            ng-click="vm.nextStep(1)"
                            ng-disabled="!vm.fill.holder.firstName || !vm.fill.holder.name || !vm.fill.holder.secondName || !vm.fill.holder.sex || !vm.fill.holder.birthday || !vm.fill.holder.phone || !vm.fill.holder.email">Продолжить</button>
                </div>
            </div>
        </form>
    </div>
    <div ng-if="vm.fill.step == 1 && vm.regNow">
        <form class="form form-confirm">
            <h4 class="ta-center">Вы не зарегистрированы</h4>
            <h4 class="ta-center email-confirm-text">По адресу <b>{{vm.fill.holder.email}}</b> отправлено письмо для подтверждения электронной почты и временный пароль.</h4>
            <hr/>
            <h4 class="ta-center">Для продолжения необходимо активировать ваш телефон.</h4>
            <div class="row">
                <div class="col-lg-4">
                    <span class="confirm-title">Вам был отправлен код активации, пожалуйста введите его.</span>
                </div>
                <div class="col-lg-4">
                    <div class="form-group">
                        <label>Введите код активации</label>
                        <input name="code" class="form-control" ng-model="vm.fill.confirmCode" placeholder="1234">
                    </div>
                </div>
                <div class="col-lg-4">
                    <button class="btn btn-kasko btn-confirm"
                            type="submit"
                            ng-click="vm.nextStep('reg')"
                            ng-disabled="!vm.fill.confirmCode">Активировать</button>
                </div>
            </div>
            <div class="row errors-area" ng-if="vm.fill.confirmCodeError">
                <h4 class="error color-red">Неверный проверочный код. Проверьте его и попробуйте ввести еще раз.</h4>
            </div>
        </form>
    </div>
    <div ng-if="vm.fill.step == 2">
        <form class="form" name="formStep2">
            <h4>Паспортные данные</h4>
            <div class="row row-string">
                <div class="col-lg-4">
                    <div class="form-group">
                        <label>Тип документа</label>
                        <input name="passport" class="form-control" placeholder="Пасспорт" disabled="disabled">
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="form-group">
                        <label>Серия / Номер пасспорта</label>
                        <input name="serial" class="form-control" ng-model="vm.fill.passport.serial" placeholder="1234 567890" mask="9999 999999" restrict="reject" clean="true" required>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="form-group">
                        <label>Дата выдачи пасспорта</label>
                        <input type="date" name="date" class="form-control" ng-model="vm.fill.passport.date" placeholder="XX.XX.XXXX" required>
                    </div>
                </div>
            </div>
            <div class="row row-string">
                <div class="col-lg-12 ">
                    <div class="form-group">
                        <label>Кем выдан пасспорт</label>
                        <input name="owner" class="form-control" ng-model="vm.fill.passport.owner" placeholder="Как в документе" required>
                    </div>
                </div>
            </div>
            <div class="row row-string">
                <div class="col-lg-4">
                    <custom-upload index="1" doc="Прикрепить скан пасспорта"></custom-upload>
                </div>
            </div>
            <hr/>
            <div class="row">
                <div class="col-lg-4 col-lg-offset-8">
                    <button class="btn btn-kasko"
                            type="submit"
                            ng-disabled="formStep2.serial.$invalid || formStep2.date.$invalid || formStep2.owner.$invalid"
                            ng-click="vm.nextStep()">Продолжить</button>
                </div>
            </div>
        </form>
    </div>
    <div ng-if="vm.fill.step == 3">
        <form class="form" name="formStep3">
            <h4>Данные выгодоприобретателя</h4>
            <div class="row row-string">
                <div class="checkbox custom-checkbox">
                    <input class="hidden ng-pristine ng-untouched ng-valid ng-empty" id="registrationAgree" type="checkbox" ng-model="vm.overlap">
                    <label ng-click="vm.overlap = !vm.overlap">
                        <span>Совпадают со страхователем</span>
                    </label>
                </div>
            </div>
            <div class="row row-string">
                <div class="col-lg-4">
                    <div class="form-group">
                        <label>Фамилия</label>
                        <input name="firstName" class="form-control" ng-model="vm.fill.beneficiary.firstName" ng-disabled="vm.overlap" placeholder="Фамилия" mask="!" limit="false" restrict="reject">
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="form-group">
                        <label>Имя</label>
                        <input name="name" class="form-control" ng-model="vm.fill.beneficiary.name" ng-disabled="vm.overlap" placeholder="Имя" mask="!" limit="false" restrict="reject">
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="form-group">
                        <label>Отчество</label>
                        <input name="secondName" class="form-control" ng-model="vm.fill.beneficiary.secondName" ng-disabled="vm.overlap" placeholder="Отчество" mask="!" limit="false" restrict="reject">
                    </div>
                </div>
            </div>
            <div class="row row-string">
                <div class="col-lg-8">
                    <div class="form-group">
                        <label>Выберите пол</label>
                        <div>
                            <div class="custom-radio" ng-click="vm.fill.beneficiary.sex = '1'">
                                <input type="radio" ng-model="vm.fill.beneficiary.sex">
                                <label ng-class="{'active': vm.fill.beneficiary.sex == '1'}">
                                    Мужчина
                                </label>
                            </div>
                            <div class="custom-radio" ng-click="vm.fill.beneficiary.sex = '0'">
                                <input type="radio" ng-model="vm.fill.holder.sex">
                                <label ng-class="{'active': vm.fill.beneficiary.sex == '0'}">
                                    Женщина
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="form-group">
                        <label>Дата рождения</label>
                        <input type="date" name="birthday" class="form-control" ng-model="vm.fill.beneficiary.birthday" ng-disabled="vm.overlap" placeholder="XX.XX.XXXX" required>
                    </div>
                </div>
            </div>
            <div class="row row-string">
                <div class="col-lg-6">
                    <div class="form-group">
                        <label>Контактный телефон</label>
                        <input name="phone"
                               class="form-control"
                               ng-model="vm.fill.beneficiary.phone"
                               ng-disabled="vm.overlap"
                               placeholder="+7 (XXX) XXX-XX-XX"
                               mask="+9 (999) 999-99-99"
                               restrict="reject">
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="form-group">
                        <label>Электронная почта</label>
                        <input type="email"
                               name="email"
                               class="form-control"
                               ng-model="vm.fill.beneficiary.email"
                               ng-disabled="vm.overlap"
                               placeholder="example@myemail.com">
                    </div>
                </div>
            </div>
            <hr/>
            <div class="row row-string">
                <div class="col-lg-4">
                    <div class="form-group">
                        <label>Тип документа</label>
                        <input class="form-control" placeholder="Пасспорт" disabled="disabled">
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="form-group">
                        <label>Серия / Номер пасспорта</label>
                        <input name="passport"
                               class="form-control"
                               ng-model="vm.fill.beneficiary.passport.serial"
                               ng-disabled="vm.overlap"
                               placeholder="1234 567890"
                               required
                               mask="9999 999999"
                               restrict="reject">
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="form-group">
                        <label>Дата выдачи пасспорта</label>
                        <input type="date" name="date" class="form-control" ng-model="vm.fill.beneficiary.passport.date" ng-disabled="vm.overlap" placeholder="XX.XX.XXXX" required>
                    </div>
                </div>
            </div>
            <div class="row row-string">
                <div class="col-lg-12 ">
                    <div class="form-group">
                        <label>Кем выдан пасспорт</label>
                        <input name="owner" class="form-control" ng-model="vm.fill.beneficiary.passport.owner" ng-disabled="vm.overlap" placeholder="Как в документе" required>
                    </div>
                </div>
            </div>
            <div class="row row-string">
                <div class="col-lg-4">
                    <custom-upload index="2" doc="Прикрепить скан пасспорта"></custom-upload>
                </div>
            </div>
            <hr/>
            <div class="row">
                <div class="col-lg-4 col-lg-offset-8" ng-if="!vm.overlap">
                    <button class="btn btn-kasko"
                            ng-click="vm.nextStep()"
                            ng-disabled="formStep3.email.$invalid || formStep3.phone.$invalid || formStep3.birthday.$invalid  || formStep3.secondName.$invalid || formStep3.firstName.$invalid || formStep3.name.$invalid || formStep3.passport.$invalid || formStep3.date.$invalid || formStep3.owner.$invalid || (vm.fill.beneficiary.sex == undefined)">Продолжить</button>
                </div>
                <div class="col-lg-4 col-lg-offset-8" ng-if="vm.overlap">
                    <button class="btn btn-kasko" ng-click="vm.nextStep()">Продолжить</button>
                </div>
            </div>
        </form>
    </div>
    <div ng-if="vm.fill.step == 4">
        <form class="form">
            <h4>Данные об автобомиле</h4>
            <div class="row row-string">
                <div class="col-lg-4">
                    <div class="form-group">
                        <label>Марка автомобиля</label>
                        <input class="form-control" ng-model="findData.mark.mark" disabled="disabled">
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="form-group">
                        <label>Модель автомобиля</label>
                        <input class="form-control" ng-model="findData.model.model" disabled="disabled">
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="form-group">
                        <label>Год выпуска</label>
                        <input class="form-control" ng-model="findData.year" disabled="disabled">
                    </div>
                </div>
            </div>
            <div class="row row-string">
                <div class="col-lg-4">
                    <div class="form-group">
                        <label>Серия / Номер ПТС</label>
                        <input class="form-control" ng-model="vm.fill.avto.pts.serial" placeholder="1234 567890" mask="9999 999999" restrict="reject">
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="form-group">
                        <label>Дата выдачи ПТС</label>
                        <input type="date" class="form-control" ng-model="vm.fill.avto.pts.date" placeholder="XX.XX.XXXX">
                    </div>
                </div>
                <div class="col-lg-4">
                    <custom-upload index="3" doc="Прикрепить скан ПТС"></custom-upload>
                </div>
            </div>
            <div class="row row-string">
                <div class="col-lg-4">
                    <div class="form-group">
                        <label>Серия / Номер СТС</label>
                        <input class="form-control" ng-model="vm.fill.avto.sts.serial" placeholder="1234 567890" mask="9999 999999" restrict="reject">
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="form-group">
                        <label>Дата выдачи СТС</label>
                        <input type="date" class="form-control" ng-model="vm.fill.avto.sts.date" placeholder="XX.XX.XXXX">
                    </div>
                </div>
                <div class="col-lg-4">
                    <custom-upload index="4" doc="Прикрепить скан СТС"></custom-upload>
                </div>
            </div>
            <div class="row row-string">
                <div class="col-lg-4">
                    <div class="form-group">
                        <label>Гос. номер</label>
                        <input class="form-control" ng-model="vm.fill.avto.gosNumber" placeholder="A 123 BC 456" mask="A 999 AA 999" restrict="reject" clear="true" limit="false">
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="form-group">
                        <label>VIN номер</label>
                        <input class="form-control" ng-model="vm.fill.avto.vin" placeholder="1234567890" clear="true" mask="99999999999999999">
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="form-group">
                        <label>Стоимость авто</label>
                        <input class="form-control" ng-model="vm.fill.avto.price" disabled="disabled">
                    </div>
                </div>
            </div>
            <hr/>
            <div class="row">
                <div class="col-lg-4 col-lg-offset-8">
                    <button class="btn btn-kasko" ng-click="vm.submitResults()" ng-disabled="!vm.overlap">Продолжить</button>
                </div>
            </div>
        </form>
    </div>
    <div ng-if="vm.fill.step == 5" class="ta-center">
        <i class="fa fa-circle-o-notch fa-spin fa-5x"></i>
    </div>
    <div ng-if="vm.fill.step == 6" class="ta-center">
        <span>Спасибо за ожидание.<br/>Все расчеты окончены, мы вскоре свяжемся с вами для дальнейшего оформления полиса</span>
    </div>
    <div class="blocker" ng-if="vm.waiter">
        <i class="fa fa-circle-o-notch fa-spin fa-5x"></i>
    </div>
</div>